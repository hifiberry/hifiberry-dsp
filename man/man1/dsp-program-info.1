.TH DSP-PROGRAM-INFO 1 "30 September 2025" "HiFiBerry DSP toolkit 1.3.2" "User Commands"
.SH NAME
dsp-program-info \- get DSP program information using REST API
.SH SYNOPSIS
.B dsp-program-info
[\fIOPTIONS\fR]
.SH DESCRIPTION
.B dsp-program-info
retrieves comprehensive information about the currently loaded DSP program
from a HiFiBerry DSP using the REST API. This tool provides details including
program length and checksums, which are useful for verification and debugging.

The tool connects to the DSP's REST API server (sigmatcpserver) and queries
the /program-info endpoint to obtain current program information.

.SH OPTIONS
.TP
.BR \-h ", " \-\-host " " \fIHOST\fR
DSP server hostname or IP address (default: localhost)
.TP
.BR \-p ", " \-\-port " " \fIPORT\fR
DSP server port (default: 13141)
.TP
.BR \-t ", " \-\-timeout " " \fISECONDS\fR
Connection timeout in seconds (default: 30)
.TP
.BR \-f ", " \-\-format " " \fIFORMAT\fR
Output format: json, text, or brief (default: text)
.TP
.BR \-v ", " \-\-verbose
Enable verbose output for debugging and detailed progress information
.TP
.BR \-q ", " \-\-quiet
Suppress non-error output messages (only show program info)
.TP
.BR \-\-help
Show help message and exit
.TP
.BR \-\-version
Show version information and exit

.SH OUTPUT FORMATS
.TP
.B json
Raw JSON response from the API, suitable for parsing by other tools
.TP
.B text
Human-readable formatted output with labeled fields
.TP
.B brief
Compact single-line output showing program length and SHA-1 checksum

.SH EXAMPLES
.TP
Get program info from local DSP:
.B dsp-program-info

.TP
Get program info from remote DSP in JSON format:
.B dsp-program-info -h 192.168.1.100 -f json

.TP
Get brief info quietly (suitable for scripts):
.B dsp-program-info -q -f brief

.TP
Get program info with verbose output:
.B dsp-program-info -v

.TP
Monitor program length in a script:
.B LENGTH=$(dsp-program-info -q -f brief | cut -d' ' -f1)

.SH EXIT STATUS
.TP
.B 0
Success
.TP
.B 1
General error
.TP
.B 2
Invalid arguments or command-line options
.TP
.B 4
Connection error - cannot reach DSP API server
.TP
.B 5
API error - server returned an error

.SH OUTPUT FIELDS
The program information includes the following fields:

.TP
.B Program Length
The size of the currently loaded DSP program in words (32-bit). Also 
displayed in human-readable format (KB/MB).

.TP
.B MD5 Checksum
MD5 checksum of the DSP program calculated using signature-based detection.
Used for compatibility with legacy systems.

.TP
.B SHA-1 Checksum
SHA-1 checksum of the DSP program calculated using length-based detection.
Preferred for modern applications due to better performance.

.SH FILES
.TP
.B /etc/sigmatcp.conf
SigmaTCP server configuration file

.SH ENVIRONMENT
.TP
.B HTTP_PROXY, HTTPS_PROXY
Proxy settings for curl (if needed for network access)

.SH DEPENDENCIES
.TP
.B curl
Required for making HTTP requests to the DSP API server

.SH NOTES
.PP
This tool requires the sigmatcpserver to be running on the target DSP
system with the REST API enabled. The default configuration listens on
localhost:13141.

.PP
The checksums are calculated from the currently loaded DSP program in
memory, not from any stored profile files.

.PP
Program length is reported in DSP words (32-bit units). To convert to
bytes, multiply by 4.

.PP
Different checksum algorithms may return different values for the same
program due to their calculation methods (signature-based vs length-based).

.SH SEE ALSO
.BR dsp-install-profile (1),
.BR dsptoolkit (1),
.BR sigmatcpserver (1),
.BR curl (1)

.PP
HiFiBerry DSP documentation:
.I https://www.hifiberry.com/docs/

.PP
REST API documentation:
.I /usr/share/doc/hifiberry-dsp/restapi.md

.SH BUGS
Report bugs to: https://github.com/hifiberry/hifiberry-dsp/issues

.SH AUTHOR
HiFiBerry team <info@hifiberry.com>

.SH COPYRIGHT
Copyright \(co 2025 HiFiBerry. This is free software; see the source
for copying conditions. There is NO warranty; not even for MERCHANTABILITY
or FITNESS FOR A PARTICULAR PURPOSE.